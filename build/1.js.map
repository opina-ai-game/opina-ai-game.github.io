{"version":3,"sources":["../../src/pages/thankyou/thankyou.module.ts","../../src/pages/thankyou/thankyou.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ThankyouPage } from './thankyou';\n\n@NgModule({\n  declarations: [\n    ThankyouPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ThankyouPage),\n  ],\n})\nexport class ThankyouPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/thankyou/thankyou.module.ts","import { Questionary } from './../../providers/questionary/questionary';\nimport { Component } from '@angular/core';\nimport { AlertController, IonicPage, LoadingController, NavController, NavParams, MenuController } from 'ionic-angular';\nimport { AnswerProvider } from \"../../providers/answer/answer\";\nimport { Answer, AnswerNeighborhood } from \"../../providers/questionary/questionary\";\nimport { Prioritization } from \"../prioritization/prioritization\";\nimport { UserType } from \"../home/home\";\nimport { Storage } from \"@ionic/storage\";\n\n@IonicPage()\n@Component({\n  selector: 'page-thankyou',\n  templateUrl: 'thankyou.html',\n})\nexport class ThankyouPage {\n  answers: Answer[];\n  answersNeighborhoods: AnswerNeighborhood[];\n  prioritizations: Prioritization[];\n  loader: any;\n  userType: UserType;\n  progress: number;\n  points: number;\n  totalQuestions: number;\n  level: string;\n  useGame: boolean = false;\n  questionary: Questionary = new Questionary();\n\n  constructor(public menuCtrl: MenuController, public navCtrl: NavController, public navParams: NavParams, private answerProvider: AnswerProvider, public loadingCtrl: LoadingController, private alertCtrl: AlertController, private storage: Storage) {\n    this.storage.get('useGame').then(data => {\n      this.useGame = data\n      if(this.useGame){\n        this.showForm();\n      }\n    });\n    this.getUserType();\n    this.points = navParams.get('points');\n    this.answers = navParams.get('answers');\n    this.answersNeighborhoods = navParams.get('answersNeighborhoods');\n    this.prioritizations = navParams.get('prioritizations');\n    this.progress = 100;\n    let questions = navParams.get('questions');\n    this.totalQuestions = questions.length;\n    this.questionary = navParams.get('questionary');\n    this.verifyLevel();\n  }\n\n  verifyLevel() {\n    if (this.points > 0 && this.points <= 7) {\n      this.level = \"Bronze\"\n    }\n    if (this.points > 7 && this.points <= 13) {\n      this.level = \"Prata\"\n    }\n    if (this.points > 13) {\n      this.level = \"Ouro\"\n    }\n  }\n\n  openMenu() {\n    this.menuCtrl.open();\n  }\n\n  help() {\n    let alert = this.alertCtrl.create({\n      title: '<div text-center>Sua participação não acaba aqui!</div>',\n      message:\n        //----------------------MENSAGEM------------------\n        '<div class=\"alert-align-center\"><img class=\"img-alert\" src=\"assets/imgs/person3a.png\"/></div>'\n        + '<div class=\"dialogue-box\"><div class=\"tdialogue-box-text\">'\n        + '<div text-center><strong>Ainda não acabou!</strong></div>'\n        // + '<div text-center>Você pode responder outros <strong>questionários</strong> e continuar contribuindo!</div>'\n        + '<div text-center>Você pode responder outros <strong>questionários</strong> e continuar contribuindo com a <strong>Autoavaliação</strong>!</div>'\n        + '</div></div>',\n      //----------------------MENSAGEM------------------\n      buttons: [{\n        text: \"Ok!\",\n        handler: () => {\n        }\n      }]\n    });\n    alert.present();\n  }\n\n  getUserType() {\n    this.storage.get('userType')\n      .then((data: UserType) => {\n        if (data != null) {\n          this.userType = data;\n        } else {\n          let userType = new UserType();\n          userType.id = null;\n          userType.name = null;\n          this.userType = userType;\n        }\n      })\n      .catch(() => {\n        let userType = new UserType();\n        userType.id = null;\n        userType.name = null;\n        this.userType = userType;\n      });\n  }\n\n  finishQuestionary() {\n    this.loader = this.loadingCtrl.create();\n    this.loader.present();\n    // this.answerProvider.insertAnswersData(this.answers, this.answersNeighborhoods, this.prioritizations, this.userType, this.useGame, this.points)\n    //   .then((data: boolean) => {\n    //     if (data != null) {\n    this.storage.set('points', this.points);\n    this.navCtrl.setRoot('QuestionariesListPage', {}).then(this.loader.dismiss());\n    //   } else {\n    //     let alert = this.alertCtrl.create({\n    //       title: 'Oops!',\n    //       message: 'Não foi possível enviar os dados para o servidor. Por favor, tente novamente.',\n    //       buttons: [{\n    //         text: \"Tentar novamente\",\n    //         handler: () => {\n    //           this.finishQuestionary();\n    //         }\n    //       }]\n    //     });\n    //     alert.present();\n    //     this.loader.dismiss();\n    //   }\n    // })\n    // .catch(() => {\n    //   let alert = this.alertCtrl.create({\n    //     title: 'Oops!',\n    //     message: 'Não foi possível enviar os dados para o servidor. Por favor, tente novamente.',\n    //     buttons: [{\n    //       text: \"Tentar novamente\",\n    //       handler: () => {\n    //         this.finishQuestionary();\n    //       }\n    //     }]\n    //   });\n    //   alert.present();\n    //   this.loader.dismiss();\n    // });\n  }\n\n//Mensagem motivadora da narrativa\nshowForm() {\n  let alert = this.alertCtrl.create({\n    title: '<div text-center>Nos ajude a avaliar a gamificação do Aplicativo!</div>',\n    message:\n      //----------------------MENSAGEM------------------\n      '<div class=\"alert-align-center\"><img class=\"img-alert\" src=\"assets/imgs/person3a.png\"/></div>'\n      + '<div class=\"dialogue-box\"><div class=\"tdialogue-box-text\">'\n      + '<div><strong>Você utilizou a versão gamificada do aplicativo</strong></div>'\n      + '<div text-center>Por favor, nos ajude a avaliar a gamificação respondendo o <strong>formulário: </strong><a style=\"font-size:1.5rem\" href=\"https://forms.gle/Z8RVkQvHitHyjrwGA\"><strong>Avaliação da gamificação</strong></a></div>'\n      + '</div></div>',\n      //----------------------MENSAGEM------------------\n    buttons: [{\n      text: \"Entendi!\",\n      handler: () => {}\n    }]\n  });\n  alert.present();\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/thankyou/thankyou.ts"],"sourceRoot":""}