{"version":3,"sources":["../../src/pages/thankyou/thankyou.module.ts","../../src/pages/thankyou/thankyou.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ThankyouPage } from './thankyou';\n\n@NgModule({\n  declarations: [\n    ThankyouPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ThankyouPage),\n  ],\n})\nexport class ThankyouPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/thankyou/thankyou.module.ts","import { Questionary } from './../../providers/questionary/questionary';\nimport { Component } from '@angular/core';\nimport { AlertController, IonicPage, LoadingController, NavController, NavParams } from 'ionic-angular';\nimport { AnswerProvider } from \"../../providers/answer/answer\";\nimport { Answer, AnswerNeighborhood } from \"../../providers/questionary/questionary\";\nimport { Prioritization } from \"../prioritization/prioritization\";\nimport { UserType } from \"../home/home\";\nimport { Storage } from \"@ionic/storage\";\n\n@IonicPage()\n@Component({\n  selector: 'page-thankyou',\n  templateUrl: 'thankyou.html',\n})\nexport class ThankyouPage {\n  answers: Answer[];\n  answersNeighborhoods: AnswerNeighborhood[];\n  prioritizations: Prioritization[];\n  loader: any;\n  userType: UserType;\n  progress: number;\n  points: number;\n  totalQuestions: number;\n  level: string;\n  useGame: boolean = false;\n  questionary : Questionary = new Questionary();\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private answerProvider: AnswerProvider, public loadingCtrl: LoadingController, private alertCtrl: AlertController, private storage: Storage) {\n    this.storage.get('useGame').then(data => this.useGame = data);\n    this.getUserType();\n    this.points = navParams.get('points');\n    this.answers = navParams.get('answers');\n    this.answersNeighborhoods = navParams.get('answersNeighborhoods');\n    this.prioritizations = navParams.get('prioritizations');\n    this.progress = 100;\n    let questions = navParams.get('questions');\n    this.totalQuestions = questions.length;\n    this.questionary = navParams.get('questionary');\n    this.verifyLevel();\n  }\n\n  verifyLevel() {\n    if (this.points > 0 && this.points <= 7) {\n      this.level = \"Bronze\"\n    }\n    if (this.points > 7 && this.points <= 13) {\n      this.level = \"Prata\"\n    }\n    if (this.points > 13) {\n      this.level = \"Ouro\"\n    }\n  }\n\n  help() {\n    let alert = this.alertCtrl.create({\n      title: '<div text-center>Sua participação não acaba aqui!</div>',\n      message:\n        '<div class=\"alert-align-center\"><img class=\"img-alert\" src=\"assets/imgs/publicdomainq-presenter.png\"/></div>'\n        + '<div text-center>Ainda não acabou!</div>'\n        + '<div text-center>Você pode responder outros questionários e continuar contribuindo!</div>',\n      buttons: [{\n        text: \"Ok!\",\n        handler: () => {\n        }\n      }]\n    });\n    alert.present();\n  }\n\n  getUserType() {\n    this.storage.get('userType')\n      .then((data: UserType) => {\n        if (data != null) {\n          this.userType = data;\n        } else {\n          let userType = new UserType();\n          userType.id = null;\n          userType.name = null;\n          this.userType = userType;\n        }\n      })\n      .catch(() => {\n        let userType = new UserType();\n        userType.id = null;\n        userType.name = null;\n        this.userType = userType;\n      });\n  }\n\n  finishQuestionary() {\n    this.loader = this.loadingCtrl.create();\n    this.loader.present();\n    this.answerProvider.insertAnswersData(this.answers, this.answersNeighborhoods, this.prioritizations, this.userType)\n      .then((data: boolean) => {\n        if (data != null) {\n          this.storage.set('points', this.points);\n          this.navCtrl.setRoot('QuestionariesListPage', {}).then(this.loader.dismiss());\n        } else {\n          let alert = this.alertCtrl.create({\n            title: 'Oops!',\n            message: 'Não foi possível enviar os dados para o servidor. Por favor, tente novamente.',\n            buttons: [{\n              text: \"Tentar novamente\",\n              handler: () => {\n                this.finishQuestionary();\n              }\n            }]\n          });\n          alert.present();\n          this.loader.dismiss();\n        }\n      })\n      .catch(() => {\n        let alert = this.alertCtrl.create({\n          title: 'Oops!',\n          message: 'Não foi possível enviar os dados para o servidor. Por favor, tente novamente.',\n          buttons: [{\n            text: \"Tentar novamente\",\n            handler: () => {\n              this.finishQuestionary();\n            }\n          }]\n        });\n        alert.present();\n        this.loader.dismiss();\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/thankyou/thankyou.ts"],"sourceRoot":""}